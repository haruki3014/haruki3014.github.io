[{"title":"图床\"永久链\"","url":"/2021-01-06_img-make.html","content":"&#8195;&#8195;需要准备对象存储及域名，理论\"永久链\"图床，可在各云服务商或个人服务器间迁移数据  \n&#8195;&#8195;如果你是国外的域名，markdown是国内使用，需要绑定国内第三方dns，这里以[namesilo](https://www.namesilo.com/)域名绑定[dnspod](https://www.dnspod.cn/)为例。\n<!-- more -->  \n\n# namesilo配置(国内备案域名可跳过此步骤)\n![](https://img.xn--rhq388ct6kcjm.com/blog/cn/281BCA8978E663D1AA05423137C07932E35E89FDDDCA7A23445455A7723F219C.png)\n\n进入域名管理页面  \n将原有三个dns删除替换为以下内容，提交\n> f1g1ns1.dnspod.net  \n  f1g1ns2.dnspod.net\n\n返回域名管理页面，点击域名所在行右侧蓝色地球，进入域名解析页面，删除所有的解析内容即可。\n\n# dnspod配置\n进入dnspod管理页面，添加你的域名，点击dns刷新  \n创建公有读私有写存储桶，并复制存储桶域名  \n![添加自定义源站域名](https://img.xn--rhq388ct6kcjm.com/blog/cn/5C3AE90E330110085424836989AC2F904D961280A441B32B909654094DCFE2B2.png)\n到dnspod解析页面，添加CNAME解析  \n需要注意的是，namesilo的dns可能需要等几十分钟才会刷新，在此之前访问域名可能是到达不了存储桶的  \n![](https://img.xn--rhq388ct6kcjm.com/blog/cn/E315A71C14F3F94218BC781296F5F37A1B1996BCEF1D797ECA20A64597AFD18F.png)\n\n# ssl证书以及防盗链设置\n在dnspod或者腾讯云域名注册界面申请免费ssl证书并下载，解压。在存储桶域名绑定页面进行证书绑定，用记事本打开Nginx里的文本并复制到对应区域\n![](https://img.xn--rhq388ct6kcjm.com/blog/cn/6B12C37D45ECE58C98F26DA67CDFC60F73ADB472ECBD37D20EFC839F64BD4A39.png)\n\n测试一下，不挂t的情况下自定义域名可以访问图片，以后的迁移只需copy文件，域名重新对应一下CNAME即可，markdown文章的图片地址不需要变动。\n![](https://img.xn--rhq388ct6kcjm.com/blog/cn/4DEED59F8DC599B65736DFA4B81C4DB1C4028557408CFBA90B1691DDDE70D6EB.png)\n\n存储桶防盗链设置如下，配置完防盗链之后本地预览和网页地址栏输入是访问不了对象存储的，只有白名单内的ip才能访问  \n![](https://img.xn--rhq388ct6kcjm.com/blog/cn/358EF065F5956500257330DDE1493957881F0BD1C0294CB5E6115CDF7805CE40.png)\n\n","tags":["对象存储"],"categories":["博客搭建"]},{"title":"云函数","url":"/2021-01-05_function-cloud.html","content":"# 前言\n[云函数简介](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/functions.html)  \n长不看结论：总之就是跑脚本，也可以跑微信的推送等事件。目前我只用它在跑签到脚本。\n\n# server酱\n原版server酱：http://sc.ftqq.com/  \n自搭server酱：https://www.v2ex.com/t/567927\n<!-- more -->\n\n# 哔哩哔哩签到  \n项目地址：https://github.com/happy888888/BiliExp  \n油猴脚本：https://greasyfork.org/zh-CN/scripts/393096-bilibiliexp/versions  \n注意事项：云函数方式为cookie签到\n\n# 天翼云盘签到和抽奖  \n项目地址：https://github.com/FingerSword/Cloud189-Sign-In  \n注意事项：不改密码就ok  \n\n# 网易云音乐签到\n地址：https://www.coolapk.com/feed/22733317?shareKey=NjhhNGU5NTdiOWE2NWZjMWVhODI  \n注意事项：不改密码就ok  \n\n# 有道云笔记签到\n1.0：https://www.coolapk.com/feed/18049127?shareKey=MDA1OTY2ZDVkYjYyNWVmMTU5MTE  \n2.0：https://www.coolapk.com/feed/19750209?shareKey=YTM5NzM3NTFmZGIzNWZmMGY3MjM\n注意事项：均为cookie，我用qq登录的账号一天就掉了，用手机号登录的应该能管一个月","tags":["云服务"],"categories":["杂物箱"]},{"title":"域名的使用","url":"/2021-01-05_make-domainname.html","content":"# 域名服务商\n&#8195;&#8195;个人站除开com、net这两个域名，其他推荐选择国外服务商进行注册。以下仅列举一些我接触过的，还有很多其他的服务商就不一一列举了  \n* 国内\n  * [阿里云万网](https://wanwang.aliyun.com/)：尚可，只提供com和net、tv、cc这四个域名的隐藏个人信息服务\n  * [华为云domain](https://www.huaweicloud.com/product/domain.html)：在企鹅和阿里中间的位置\n  * [腾讯云dnspod](https://dnspod.cloud.tencent.com/)：我目前所有com域名都在这个上面\n  * [百度云BCD](https://cloud.baidu.com/product/bcd.html)：新用户优惠不好，域名隐私里写的和实际不符\n* 国外\n  * [GoDaddy](https://sg.godaddy.com/)：全球最大的域名服务商，当然价格就...也是贵的，隐藏个人信息还要收费\n  * [namesilo](https://www.namesilo.com/)：价格便宜，比国内的稍微贵一丢丢，所有域名均支持免费whois隐藏个人信息\n<!-- more -->\n\n# 选购指南\n&#8195;&#8195;对于正常内容的网站，.com和.net选国内的就可以了，价格比国外便宜，安全性几个顶级服务商一般不会出问题，而且这两个后缀的域名默认隐藏个人信息。  \n&#8195;&#8195;其他的域名，比如work、link、site、me...请参考各个国内服务商的域名隐私保护指南([阿里云](https://wanwang.aliyun.com/domain/whoisprotect/)、[华为云](https://support.huaweicloud.com/domain_faq/domain_faq_0002.html)、[腾讯云](https://cloud.tencent.com/document/product/242/30404)、[百度云](https://cloud.baidu.com/doc/BCD/s/bjwvym8qn))，他们是不支持非主流域名隐藏注册人姓名和注册邮箱的，根据我的实践，腾讯和阿里的top域名，百度和腾讯的xyz域名，均不支持whois隐藏，虽然ICANN和欧盟在2018年已经要求whois查询结果不再展示域名所有者、联系邮箱等信息，但有些域名服务商对于非主流域名并没有默认隐藏。  \n&#8195;&#8195;这些非主流的域名，我一般作为跳转域名用，当然也可以给小网站，出于whois查询隐私考虑，这些域名最好选择国外的，好处有很多就不多说了，至少whois查询不到注册人。  \n&#8195;&#8195;然后是国外服务商的选择，我选择的是namesilo，因为便宜且支持隐藏个人信息，无需备案就可跳转。食用方法参考：https://zhuanlan.zhihu.com/p/33921436 。跳转指定url参考：https://www.namesilo.com/Support/Domain-Forwarding 。Google邮箱注册在移动端gmail注册即可不绑定手机，最开始的手机号只为验证是否真人。\n\n价格对比1：https://www.domain265.com/  \n价格对比2: https://namebeta.com/  \nwhois查询：https://domain.163yun.com/  \nICANN更多信息：https://www.icann.org/news/announcement-2018-05-22-zh\n\n# 域名跳转指定url方案\n方案一：github仓库跳转  \n准备：一个github账号，一个域名  \n思路：域名商那里CNAME解析到你的github域名 yourname.github.io ，github仓库内CNAME写入域名并开启github page，写入一个js加载时跳转事件即可  \n```html\n <script>window.location.href = \"域名网址\"</script>\n```\n\n方案二：对象存储跳转\n准备：能开启静态网页的对象存储，一个域名  \n思路：一级域名CNAME解析到对象存储的website域名上，存储桶只存放一个index.html，之后写入JavaScript跳转即可  \n具体步骤：  \n1. 创建一个非大陆地区的公有读私有写存储桶，推荐中国香港节点。\n2. 开启存储桶的静态网站模块，并打开安全模块中的服务器端加密。\n3. 在对象存储域名管理里填写自定义源站域名，在dnspod中添加对应CNAME解析，并上传对应证书密钥到源站上。\n4. 对象存储上传一个index.html文件，写入以下代码\n```html\n <script>window.location.href = \"域名网址\"</script>\n```","categories":["博客搭建"]},{"title":"hexo-next7食用方法","url":"/2020-12-21_use-hexo-next7.html","content":"# 博客启用（前略环境搭建）\n&#8195;&#8195;新建文件夹，之后在其中执行：hexo init。\n&#8195;&#8195;hexo-next7官方git：https://github.com/theme-next/hexo-theme-next\n&#8195;&#8195;hexo-next8官方git：https://github.com/next-theme/hexo-theme-next\n&#8195;&#8195;git配置：npm install --save hexo-deployer-git；多用户指定其一：githubgit config --global user.email \"邮箱\"和git config --global user.name \"用户名\"\n<!-- more -->\n\n\n# 可能会用到的工具\n\n&#8195;&#8195;RSS订阅：npm install hexo-generator-feed；  \n参考：https://blog.csdn.net/qq_36537546/article/details/90730068  \n&#8195;&#8195;站点地图：npm install hexo-generator-sitemap --save；  \n参考：https://www.cnblogs.com/brady-wang/p/8493181.html  \n&#8195;&#8195;next7的搜索功能：npm install hexo-generator-searchdb --save；  \n参考：https://blog.csdn.net/qq_41086511/article/details/103537522  \n&#8195;&#8195;背景图片及透明度调整：\\themes\\next-7.7.2\\source\\css\\_common\\components\\pages\\pages.styl，能找到此页面样式文件的均可。  \n参考：https://blog.csdn.net/Louis_li51/article/details/105227430；  \n注：带搜索框后不能开启菜单栏和搜索栏的透明度，否则会透明度过高看不清，但可以给头像的框加透明度。   \n&#8195;&#8195;next7单独友链参考：https://blog.csdn.net/Aoman_Hao/article/details/103758829  \n&#8195;&#8195;文章置顶：node_modules/hexo-generator-index/lib/generator；\n参考：https://www.jianshu.com/p/42a4efcdf8d7  \n&#8195;&#8195;图片压缩工具：https://tinypng.com/ 或者https://docsmall.com/image-compress  \n&#8195;&#8195;图片批量重命名工具（可为图片hash值）：[ReNamer](https://renamer.en.softonic.com/)  ","tags":["tools"],"categories":["博客搭建"]}]